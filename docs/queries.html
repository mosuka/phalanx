
<!DOCTYPE HTML>
<html lang="" >
    <head>
        <meta charset="UTF-8">
        <meta content="text/html; charset=utf-8" http-equiv="Content-Type">
        <title>Queries Â· GitBook</title>
        <meta http-equiv="X-UA-Compatible" content="IE=edge" />
        <meta name="description" content="">
        <meta name="generator" content="GitBook 3.2.3">
        
        
        
    
    <link rel="stylesheet" href="gitbook/style.css">

    
            
                
                <link rel="stylesheet" href="gitbook/gitbook-plugin-highlight/website.css">
                
            
                
                <link rel="stylesheet" href="gitbook/gitbook-plugin-search/search.css">
                
            
                
                <link rel="stylesheet" href="gitbook/gitbook-plugin-fontsettings/website.css">
                
            
        

    

    
        
    
        
    
        
    
        
    
        
    
        
    

        
    
    
    <meta name="HandheldFriendly" content="true"/>
    <meta name="viewport" content="width=device-width, initial-scale=1, user-scalable=no">
    <meta name="apple-mobile-web-app-capable" content="yes">
    <meta name="apple-mobile-web-app-status-bar-style" content="black">
    <link rel="apple-touch-icon-precomposed" sizes="152x152" href="gitbook/images/apple-touch-icon-precomposed-152.png">
    <link rel="shortcut icon" href="gitbook/images/favicon.ico" type="image/x-icon">

    
    <link rel="next" href="aggregations.html" />
    
    
    <link rel="prev" href="analyzer/token_filters.html" />
    

    </head>
    <body>
        
<div class="book">
    <div class="book-summary">
        
            
<div id="book-search-input" role="search">
    <input type="text" placeholder="Type to search" />
</div>

            
                <nav role="navigation">
                


<ul class="summary">
    
    

    

    
        
        
    
        <li class="chapter " data-level="1.1" data-path="./">
            
                <a href="./">
            
                    
                    Introduction
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.2" data-path="architecture.html">
            
                <a href="architecture.html">
            
                    
                    Architecture
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.3" data-path="build.html">
            
                <a href="build.html">
            
                    
                    Build
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.4" data-path="get_started.html">
            
                <a href="get_started.html">
            
                    
                    Get started
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.5" data-path="metadata_store.html">
            
                <a href="metadata_store.html">
            
                    
                    Metadata Store
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.6" data-path="index_store.html">
            
                <a href="index_store.html">
            
                    
                    Index Store
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.7" data-path="lock_store.html">
            
                <a href="lock_store.html">
            
                    
                    Lock Store
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.8" data-path="index_metadata.html">
            
                <a href="index_metadata.html">
            
                    
                    Index Metadata
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.9" data-path="run_with_minio_etcd.html">
            
                <a href="run_with_minio_etcd.html">
            
                    
                    Run with MinIO and etcd
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.10" data-path="run_with_aws.html">
            
                <a href="run_with_aws.html">
            
                    
                    Run with AWS
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.11" data-path="index_mapping.html">
            
                <a href="index_mapping.html">
            
                    
                    Index Mapping
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.12" data-path="analyzer.html">
            
                <a href="analyzer.html">
            
                    
                    Analyzer
            
                </a>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="1.12.1" data-path="analyzer/char_filters.html">
            
                <a href="analyzer/char_filters.html">
            
                    
                    Char filters
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.12.2" data-path="analyzer/tokenizers.html">
            
                <a href="analyzer/tokenizers.html">
            
                    
                    Tokenizers
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.12.3" data-path="analyzer/token_filters.html">
            
                <a href="analyzer/token_filters.html">
            
                    
                    Token filters
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter active" data-level="1.13" data-path="queries.html">
            
                <a href="queries.html">
            
                    
                    Queries
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.14" data-path="aggregations.html">
            
                <a href="aggregations.html">
            
                    
                    Aggregations
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.15" data-path="restful_api.html">
            
                <a href="restful_api.html">
            
                    
                    RESTful API
            
                </a>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="1.15.1" data-path="restful_api/create_index_api.html">
            
                <a href="restful_api/create_index_api.html">
            
                    
                    Create Index API
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.15.2" data-path="restful_api/delete_index_api.html">
            
                <a href="restful_api/delete_index_api.html">
            
                    
                    Delete Index API
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.15.3" data-path="restful_api/add_documents_api.html">
            
                <a href="restful_api/add_documents_api.html">
            
                    
                    Add Documents API
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.15.4" data-path="restful_api/delete_documents_api.html">
            
                <a href="restful_api/delete_documents_api.html">
            
                    
                    Delete Documents API
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.15.5" data-path="restful_api/search_api.html">
            
                <a href="restful_api/search_api.html">
            
                    
                    Search API
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="1.16" data-path="docker.html">
            
                <a href="docker.html">
            
                    
                    Docker
            
                </a>
            

            
        </li>
    

    

    <li class="divider"></li>

    <li>
        <a href="https://www.gitbook.com" target="blank" class="gitbook-link">
            Published with GitBook
        </a>
    </li>
</ul>


                </nav>
            
        
    </div>

    <div class="book-body">
        
            <div class="body-inner">
                
                    

<div class="book-header" role="navigation">
    

    <!-- Title -->
    <h1>
        <i class="fa fa-circle-o-notch fa-spin"></i>
        <a href="." >Queries</a>
    </h1>
</div>




                    <div class="page-wrapper" tabindex="-1" role="main">
                        <div class="page-inner">
                            
<div id="book-search-results">
    <div class="search-noresults">
    
                                <section class="normal markdown-section">
                                
                                <h1 id="queries">Queries</h1>
<p>Phanalx provides a full Query DSL (Domain Specific Language) based on JSON to define queries.  </p>
<h2 id="boolean-query">Boolean query</h2>
<p>A query that matches documents matching boolean combinations of other queries.<br>Result documents satisfy all of the <code>must</code> queries and satisfy none of the <code>must_not</code> queries.
Also satisfy any of the <code>should</code> queries will score higher.</p>
<ul>
<li><code>must</code>: A list of queries. The clause (query) must appear in matching documents and will contribute to the score.</li>
<li><code>must_not</code>: A list of queries. The clause (query) must not appear in the matching documents.</li>
<li><code>should</code>: A list of queries. The clause (query) should appear in the matching document.</li>
<li><code>min_should</code>: To specify the number of should clauses returned documents must match.</li>
<li><code>boost</code>: To boost a query. By default, the boost factor is 1.0. Although the boost factor must be positive, it can be less than 1 (for example, it could be 0.2).</li>
</ul>
<pre><code class="lang-json">{
  <span class="hljs-string">&quot;type&quot;</span>: <span class="hljs-string">&quot;boolean&quot;</span>,
  <span class="hljs-string">&quot;options&quot;</span>: {
    <span class="hljs-string">&quot;must&quot;</span>: [
      {
        <span class="hljs-string">&quot;type&quot;</span>: <span class="hljs-string">&quot;term&quot;</span>,
        <span class="hljs-string">&quot;options&quot;</span>: {
          <span class="hljs-string">&quot;term&quot;</span>: <span class="hljs-string">&quot;hello&quot;</span>,
          <span class="hljs-string">&quot;field&quot;</span>: <span class="hljs-string">&quot;description&quot;</span>,
          <span class="hljs-string">&quot;boost&quot;</span>: <span class="hljs-number">1.0</span>
        }
      },
      {
        <span class="hljs-string">&quot;type&quot;</span>: <span class="hljs-string">&quot;term&quot;</span>,
        <span class="hljs-string">&quot;options&quot;</span>: {
          <span class="hljs-string">&quot;term&quot;</span>: <span class="hljs-string">&quot;world&quot;</span>,
          <span class="hljs-string">&quot;field&quot;</span>: <span class="hljs-string">&quot;description&quot;</span>,
          <span class="hljs-string">&quot;boost&quot;</span>: <span class="hljs-number">1.0</span>
        }
      }
    ],
    <span class="hljs-string">&quot;must_not&quot;</span>: [
      {
        <span class="hljs-string">&quot;type&quot;</span>: <span class="hljs-string">&quot;term&quot;</span>,
        <span class="hljs-string">&quot;options&quot;</span>: {
          <span class="hljs-string">&quot;term&quot;</span>: <span class="hljs-string">&quot;bye&quot;</span>,
          <span class="hljs-string">&quot;field&quot;</span>: <span class="hljs-string">&quot;description&quot;</span>,
          <span class="hljs-string">&quot;boost&quot;</span>: <span class="hljs-number">1.0</span>
        }
      },
      {
        <span class="hljs-string">&quot;type&quot;</span>: <span class="hljs-string">&quot;term&quot;</span>,
        <span class="hljs-string">&quot;options&quot;</span>: {
          <span class="hljs-string">&quot;term&quot;</span>: <span class="hljs-string">&quot;&#x3055;&#x3088;&#x3046;&#x306A;&#x3089;&quot;</span>,
          <span class="hljs-string">&quot;field&quot;</span>: <span class="hljs-string">&quot;description&quot;</span>,
          <span class="hljs-string">&quot;boost&quot;</span>: <span class="hljs-number">1.0</span>
        }
      }
    ],
    <span class="hljs-string">&quot;should&quot;</span>: [
      {
        <span class="hljs-string">&quot;type&quot;</span>: <span class="hljs-string">&quot;term&quot;</span>,
        <span class="hljs-string">&quot;options&quot;</span>: {
          <span class="hljs-string">&quot;term&quot;</span>: <span class="hljs-string">&quot;&#x3053;&#x3093;&#x306B;&#x3061;&#x306F;&quot;</span>,
          <span class="hljs-string">&quot;field&quot;</span>: <span class="hljs-string">&quot;description&quot;</span>,
          <span class="hljs-string">&quot;boost&quot;</span>: <span class="hljs-number">1.0</span>
        }
      },
      {
        <span class="hljs-string">&quot;type&quot;</span>: <span class="hljs-string">&quot;term&quot;</span>,
        <span class="hljs-string">&quot;options&quot;</span>: {
          <span class="hljs-string">&quot;term&quot;</span>: <span class="hljs-string">&quot;&#x4E16;&#x754C;&quot;</span>,
          <span class="hljs-string">&quot;field&quot;</span>: <span class="hljs-string">&quot;description&quot;</span>,
          <span class="hljs-string">&quot;boost&quot;</span>: <span class="hljs-number">1.0</span>
        }
      }
    ],
    <span class="hljs-string">&quot;min_should&quot;</span>: <span class="hljs-number">1</span>,
    <span class="hljs-string">&quot;boost&quot;</span>: <span class="hljs-number">1.0</span>
  }
}
</code></pre>
<h2 id="date-range-query">Date range query</h2>
<p>This query is for a range of date values.
The datetime string must be RFC3339, and both endpoints cannot be empty string.
<code>inclusive_start</code> and <code>inclusive_end</code> control the inclusion of the endpoints.</p>
<ul>
<li><code>start</code>: Start datetime string must be RFC3339.</li>
<li><code>end</code> : End datetime string must be RFC3339.</li>
<li><code>inclusive_start</code>: Specifies whether or not to include the start datetime.</li>
<li><code>inclusive_end</code>: Specifies whether or not to include the end datetime.</li>
<li><code>field</code>: Specify the target field name.</li>
<li><code>boost</code>: To boost a query. By default, the boost factor is 1.0. Although the boost factor must be positive, it can be less than 1 (for example, it could be 0.2).</li>
</ul>
<pre><code class="lang-json">{
  <span class="hljs-string">&quot;type&quot;</span>: <span class="hljs-string">&quot;date_range&quot;</span>,
  <span class="hljs-string">&quot;options&quot;</span>: {
    <span class="hljs-string">&quot;start&quot;</span>: <span class="hljs-string">&quot;2022-01-01T00:00:00Z&quot;</span>,
    <span class="hljs-string">&quot;end&quot;</span>: <span class="hljs-string">&quot;2023-01-01T00:00:00Z&quot;</span>,
    <span class="hljs-string">&quot;inclusive_start&quot;</span>: <span class="hljs-literal">true</span>,
    <span class="hljs-string">&quot;inclusive_end&quot;</span>: <span class="hljs-literal">false</span>,
    <span class="hljs-string">&quot;field&quot;</span>: <span class="hljs-string">&quot;description&quot;</span>,
    <span class="hljs-string">&quot;boost&quot;</span>: <span class="hljs-number">1.0</span>
  }
}
</code></pre>
<h2 id="fuzzy-query">Fuzzy query</h2>
<p>Fuzzy query finds documents containing terms within a specific fuzziness of the specified term.
The default fuzziness is 1. </p>
<p>The current implementation uses Levenshtein edit distance as the fuzziness metric.</p>
<ul>
<li><code>term</code>: Specify the term to search for.</li>
<li><code>prefix</code>: Number of beginning characters left unchanged when creating expansions.</li>
<li><code>fuzziness</code>: Maximum edit distance allowed for matching.</li>
<li><code>field</code>: Specify the target field name.</li>
<li><code>boost</code>: To boost a query. By default, the boost factor is 1.0. Although the boost factor must be positive, it can be less than 1 (for example, it could be 0.2).</li>
</ul>
<pre><code class="lang-json">{
  <span class="hljs-string">&quot;type&quot;</span>: <span class="hljs-string">&quot;fuzzy&quot;</span>,
  <span class="hljs-string">&quot;options&quot;</span>: {
    <span class="hljs-string">&quot;term&quot;</span>: <span class="hljs-string">&quot;hello&quot;</span>,
    <span class="hljs-string">&quot;prefix&quot;</span>: <span class="hljs-number">1</span>,
    <span class="hljs-string">&quot;fuzziness&quot;</span>: <span class="hljs-number">1</span>,
    <span class="hljs-string">&quot;field&quot;</span>: <span class="hljs-string">&quot;description&quot;</span>,
    <span class="hljs-string">&quot;boost&quot;</span>: <span class="hljs-number">1.0</span>
  }
}
</code></pre>
<h2 id="geo-bounding-box-query">Geo bounding box query</h2>
<p>This query is for performing geo bounding box searches. The arguments describe the position of the box and documents which have an indexed geo point inside the box will be returned.</p>
<ul>
<li><code>top_left_point.lon</code>: Longitude of the corner where the bounding box starts.</li>
<li><code>top_left_point.lat</code>: Latitude of the corner where the bounding box starts.</li>
<li><code>bottom_right_point.lon</code>: Longitude of the corner where the bounding box ends.</li>
<li><code>bottom_right_point.lat</code>: Latitude of the corner where the bounding box ends.</li>
<li><code>field</code>: Specify the target field name.</li>
<li><code>boost</code>: To boost a query. By default, the boost factor is 1.0. Although the boost factor must be positive, it can be less than 1 (for example, it could be 0.2).</li>
</ul>
<pre><code class="lang-json">{
  <span class="hljs-string">&quot;type&quot;</span>: <span class="hljs-string">&quot;geo_bounding_box&quot;</span>,
  <span class="hljs-string">&quot;options&quot;</span>: {
    <span class="hljs-string">&quot;top_left_point&quot;</span>: {
      <span class="hljs-string">&quot;lon&quot;</span>: <span class="hljs-number">40.73</span>,
      <span class="hljs-string">&quot;lat&quot;</span>: <span class="hljs-number">-74.1</span>
    },
    <span class="hljs-string">&quot;bottom_right_point&quot;</span>: {
      <span class="hljs-string">&quot;lon&quot;</span>: <span class="hljs-number">40.01</span>,
      <span class="hljs-string">&quot;lat&quot;</span>: <span class="hljs-number">-71.12</span>
    },
    <span class="hljs-string">&quot;field&quot;</span>: <span class="hljs-string">&quot;location&quot;</span>,
    <span class="hljs-string">&quot;boost&quot;</span>: <span class="hljs-number">1.0</span>
  }
}
</code></pre>
<h2 id="geo-bounding-polygon-query">Geo bounding polygon query</h2>
<p>This query is for performing geo bounding polygon searches. The arguments describe the position of the polygon and documents which have an indexed geo point inside the box will be returned.</p>
<ul>
<li><code>points</code>: A list of longitude and latitude that expresses the location of the polygon&apos;s corners.</li>
<li><code>field</code>: Specify the target field name.</li>
<li><code>boost</code>: To boost a query. By default, the boost factor is 1.0. Although the boost factor must be positive, it can be less than 1 (for example, it could be 0.2).</li>
</ul>
<pre><code class="lang-json">{
  <span class="hljs-string">&quot;type&quot;</span>: <span class="hljs-string">&quot;get_bounding_polygon&quot;</span>,
  <span class="hljs-string">&quot;options&quot;</span>: {
    <span class="hljs-string">&quot;points&quot;</span>: [
      {
        <span class="hljs-string">&quot;lon&quot;</span>: <span class="hljs-number">40.73</span>,
        <span class="hljs-string">&quot;lat&quot;</span>: <span class="hljs-number">-74.1</span>
      },
      {
        <span class="hljs-string">&quot;lon&quot;</span>: <span class="hljs-number">31.21</span>,
        <span class="hljs-string">&quot;lat&quot;</span>: <span class="hljs-number">-80.11</span>
      },
      {
        <span class="hljs-string">&quot;lon&quot;</span>: <span class="hljs-number">24.87</span>,
        <span class="hljs-string">&quot;lat&quot;</span>: <span class="hljs-number">-94.31</span>
      }
    ],
    <span class="hljs-string">&quot;field&quot;</span>: <span class="hljs-string">&quot;location&quot;</span>,
    <span class="hljs-string">&quot;boost&quot;</span>: <span class="hljs-number">1.0</span>
  }
}
</code></pre>
<h2 id="geo-distance-query">Geo Distance query</h2>
<p>This is for performing geo distance searches. The arguments describe a position and a distance.
Documents which have an indexed geo point which is less than or equal to the provided distance from the given position will be returned.</p>
<ul>
<li><code>point</code>: Specify the longitude and latitude of the center point.</li>
<li><code>distance</code>: Specify the distance from the center point. The units that can be specified are <code>in</code>/<code>inches</code>, <code>yd</code>/<code>yards</code>, <code>ft</code>/<code>feet</code>, <code>km</code>/<code>kilometers</code>, <code>nm</code>/<code>nauticalmiles</code>, <code>mm</code>/<code>millimeters</code>, <code>cm</code>/<code>centimeters</code>, <code>mi</code>/<code>mile</code>, <code>m</code>/<code>meters</code>.</li>
<li><code>field</code>: Specify the target field name.</li>
<li><code>boost</code>: To boost a query. By default, the boost factor is 1.0. Although the boost factor must be positive, it can be less than 1 (for example, it could be 0.2).</li>
</ul>
<pre><code class="lang-json">{
  <span class="hljs-string">&quot;type&quot;</span>: <span class="hljs-string">&quot;geo_distance&quot;</span>,
  <span class="hljs-string">&quot;options&quot;</span>: {
    <span class="hljs-string">&quot;point&quot;</span>: {
      <span class="hljs-string">&quot;lon&quot;</span>: <span class="hljs-number">40.73</span>,
      <span class="hljs-string">&quot;lat&quot;</span>: <span class="hljs-number">-74.1</span>
    },
    <span class="hljs-string">&quot;distance&quot;</span>: <span class="hljs-string">&quot;1km&quot;</span>,
    <span class="hljs-string">&quot;field&quot;</span>: <span class="hljs-string">&quot;location&quot;</span>,
    <span class="hljs-string">&quot;boost&quot;</span>: <span class="hljs-number">1.0</span>
  }
}
</code></pre>
<h2 id="match-query">Match query</h2>
<p>This query is for matching text. An Analyzer is chosen based on the field. Input text is analyzed using this analyzer. Token terms resulting from this analysis are used to perform term searches. Result documents must satisfy at least one of these term searches.</p>
<ul>
<li><code>match</code>: Specify the text to search for.</li>
<li><code>prefix</code>: Number of beginning characters left unchanged when creating expansions.</li>
<li><code>fuzziness</code>: Maximum edit distance allowed for matching.</li>
<li><code>operator</code>: Specifies the operator to be applied when searching for terms analyzed by the analyzer. Can be specified are <code>AND</code> or <code>OR</code>.</li>
<li><code>analyzer</code>: Specifies the analyzer to analyze the specified text. If omitted, the default analyzer will be applied. See <a href="analyzer.html">Analyzer</a> section for details on how to specify the analyzer.</li>
<li><code>field</code>: Specify the target field name.</li>
<li><code>boost</code>: To boost a query. By default, the boost factor is 1.0. Although the boost factor must be positive, it can be less than 1 (for example, it could be 0.2).</li>
</ul>
<pre><code class="lang-json">{
  <span class="hljs-string">&quot;type&quot;</span>: <span class="hljs-string">&quot;match&quot;</span>,
  <span class="hljs-string">&quot;options&quot;</span>: {
    <span class="hljs-string">&quot;match&quot;</span>: <span class="hljs-string">&quot;hello&quot;</span>,
    <span class="hljs-string">&quot;prefix&quot;</span>: <span class="hljs-number">1</span>,
    <span class="hljs-string">&quot;fuzziness&quot;</span>: <span class="hljs-number">1</span>,
    <span class="hljs-string">&quot;operator&quot;</span>: <span class="hljs-string">&quot;AND&quot;</span>,
    <span class="hljs-string">&quot;analyzer&quot;</span>: {
      <span class="hljs-string">&quot;char_filters&quot;</span>: [
        {
          <span class="hljs-string">&quot;name&quot;</span>: <span class="hljs-string">&quot;unicode_normalize&quot;</span>,
          <span class="hljs-string">&quot;options&quot;</span>: {
            <span class="hljs-string">&quot;form&quot;</span>: <span class="hljs-string">&quot;NFKC&quot;</span>
          }
        }
      ],
      <span class="hljs-string">&quot;tokenizer&quot;</span>: {
        <span class="hljs-string">&quot;name&quot;</span>: <span class="hljs-string">&quot;whitespace&quot;</span>
      },
      <span class="hljs-string">&quot;token_filters&quot;</span>: [
        {
          <span class="hljs-string">&quot;name&quot;</span>: <span class="hljs-string">&quot;lower_case&quot;</span>
        }
      ]
    },
    <span class="hljs-string">&quot;field&quot;</span>: <span class="hljs-string">&quot;description&quot;</span>,
    <span class="hljs-string">&quot;boost&quot;</span>: <span class="hljs-number">1.0</span>
  }
}
</code></pre>
<h2 id="match-all-query">Match all query</h2>
<p>This query will match all documents in the index.</p>
<ul>
<li><code>boost</code>: To boost a query. By default, the boost factor is 1.0. Although the boost factor must be positive, it can be less than 1 (for example, it could be 0.2).</li>
</ul>
<pre><code class="lang-json">{
  <span class="hljs-string">&quot;type&quot;</span>: <span class="hljs-string">&quot;match_all&quot;</span>,
  <span class="hljs-string">&quot;options&quot;</span>: {
    <span class="hljs-string">&quot;boost&quot;</span>: <span class="hljs-number">1.0</span>
  }
}
</code></pre>
<h2 id="match-none-query">Match none query</h2>
<p>This query will not match any documents in the index.</p>
<ul>
<li><code>boost</code>: To boost a query. By default, the boost factor is 1.0. Although the boost factor must be positive, it can be less than 1 (for example, it could be 0.2).</li>
</ul>
<pre><code class="lang-json">{
  <span class="hljs-string">&quot;type&quot;</span>: <span class="hljs-string">&quot;match_none&quot;</span>,
  <span class="hljs-string">&quot;options&quot;</span>: {
    <span class="hljs-string">&quot;boost&quot;</span>: <span class="hljs-number">1.0</span>
  }
}
</code></pre>
<h2 id="match-phrase-query">Match phrase query</h2>
<p>This query is for matching phrases in the index. An Analyzer is chosen based on the field.
Input text is analyzed using this analyzer. Token terms resulting from this analysis are used to build a search phrase.<br>Result documents must match this phrase. Queried field must have been indexed with <code>IncludeTermVectors</code> set to true.</p>
<ul>
<li><code>phrase</code>: Specify the text to search for.</li>
<li><code>slop</code>: A phrase query matches terms up to a configurable slop (which defaults to 0) in any order.</li>
<li><code>analyzer</code>: Specifies the analyzer to analyze the specified text. If omitted, the default analyzer will be applied. See <a href="analyzer.html">Analyzer</a> section for details on how to specify the analyzer.</li>
<li><code>field</code>: Specify the target field name.</li>
<li><code>boost</code>: To boost a query. By default, the boost factor is 1.0. Although the boost factor must be positive, it can be less than 1 (for example, it could be 0.2).</li>
</ul>
<pre><code class="lang-json">{
  <span class="hljs-string">&quot;type&quot;</span>: <span class="hljs-string">&quot;match_phrase&quot;</span>,
  <span class="hljs-string">&quot;options&quot;</span>: {
    <span class="hljs-string">&quot;phrase&quot;</span>: <span class="hljs-string">&quot;hello world&quot;</span>,
    <span class="hljs-string">&quot;slop&quot;</span>: <span class="hljs-number">1</span>,
    <span class="hljs-string">&quot;analyzer&quot;</span>: {
      <span class="hljs-string">&quot;char_filters&quot;</span>: [
        {
          <span class="hljs-string">&quot;name&quot;</span>: <span class="hljs-string">&quot;unicode_normalize&quot;</span>,
          <span class="hljs-string">&quot;options&quot;</span>: {
            <span class="hljs-string">&quot;form&quot;</span>: <span class="hljs-string">&quot;NFKC&quot;</span>
          }
        }
      ],
      <span class="hljs-string">&quot;tokenizer&quot;</span>: {
        <span class="hljs-string">&quot;name&quot;</span>: <span class="hljs-string">&quot;whitespace&quot;</span>
      },
      <span class="hljs-string">&quot;token_filters&quot;</span>: [
        {
          <span class="hljs-string">&quot;name&quot;</span>: <span class="hljs-string">&quot;lower_case&quot;</span>
        }
      ]
    },
    <span class="hljs-string">&quot;field&quot;</span>: <span class="hljs-string">&quot;description&quot;</span>,
    <span class="hljs-string">&quot;boost&quot;</span>: <span class="hljs-number">1.0</span>
  }
}
</code></pre>
<h2 id="multi-phrase-query">Multi phrase query</h2>
<p>This query is for finding term phrases in the index.
It is like match phrase query, but each position in the phrase may be satisfied by a list of terms as opposed to just one.
At least one of the terms must exist in the correct order, at the correct index offsets, in the specified field. Queried field must have been indexed with <code>IncludeTermVectors</code> set to true.</p>
<ul>
<li><code>terms</code>: Specify a list of multiple terms to search for phrases.</li>
<li><code>slop</code>: A phrase query matches terms up to a configurable slop (which defaults to 0) in any order.</li>
<li><code>field</code>: Specify the target field name.</li>
<li><code>boost</code>: To boost a query. By default, the boost factor is 1.0. Although the boost factor must be positive, it can be less than 1 (for example, it could be 0.2).</li>
</ul>
<pre><code class="lang-json">{
  <span class="hljs-string">&quot;type&quot;</span>: <span class="hljs-string">&quot;multi_phrase&quot;</span>,
  <span class="hljs-string">&quot;options&quot;</span>: {
    <span class="hljs-string">&quot;terms&quot;</span>: [
      [
        <span class="hljs-string">&quot;foo&quot;</span>,
        <span class="hljs-string">&quot;bar&quot;</span>
      ],
      [
        <span class="hljs-string">&quot;baz&quot;</span>
      ]
    ],
    <span class="hljs-string">&quot;slop&quot;</span>: <span class="hljs-number">1</span>,
    <span class="hljs-string">&quot;field&quot;</span>: <span class="hljs-string">&quot;description&quot;</span>,
    <span class="hljs-string">&quot;boost&quot;</span>: <span class="hljs-number">1.0</span>
  }
}
</code></pre>
<h2 id="numeric-range-query">Numeric range query</h2>
<p>This query is for ranges of numeric values. Either, but not both endpoints can be omitted.</p>
<ul>
<li><code>min</code>: The minimum value.</li>
<li><code>max</code>: The maximum value.</li>
<li><code>inclusive_min</code>: Specifies whether or not to include the minimum value.</li>
<li><code>inclusive_max</code>: Specifies whether or not to include the maximum value.</li>
<li><code>field</code>: Specify the target field name.</li>
<li><code>boost</code>: To boost a query. By default, the boost factor is 1.0. Although the boost factor must be positive, it can be less than 1 (for example, it could be 0.2).</li>
</ul>
<pre><code class="lang-json">{
  <span class="hljs-string">&quot;type&quot;</span>: <span class="hljs-string">&quot;numeric_range&quot;</span>,
  <span class="hljs-string">&quot;options&quot;</span>: {
    <span class="hljs-string">&quot;min&quot;</span>: <span class="hljs-number">0.0</span>,
    <span class="hljs-string">&quot;max&quot;</span>: <span class="hljs-number">1.0</span>,
    <span class="hljs-string">&quot;inclusive_min&quot;</span>: <span class="hljs-literal">true</span>,
    <span class="hljs-string">&quot;inclusive_max&quot;</span>: <span class="hljs-literal">false</span>,
    <span class="hljs-string">&quot;field&quot;</span>: <span class="hljs-string">&quot;description&quot;</span>,
    <span class="hljs-string">&quot;boost&quot;</span>: <span class="hljs-number">1.0</span>
  }
}
</code></pre>
<h2 id="prefix-query">Prefix query</h2>
<p>This query which finds documents containing terms that start with the specified prefix.</p>
<ul>
<li><code>prefix</code>: Specify a beginning characters of term.</li>
<li><code>field</code>: Specify the target field name.</li>
<li><code>boost</code>: To boost a query. By default, the boost factor is 1.0. Although the boost factor must be positive, it can be less than 1 (for example, it could be 0.2).</li>
</ul>
<pre><code class="lang-json">{
  <span class="hljs-string">&quot;type&quot;</span>: <span class="hljs-string">&quot;prefix&quot;</span>,
  <span class="hljs-string">&quot;options&quot;</span>: {
    <span class="hljs-string">&quot;prefix&quot;</span>: <span class="hljs-string">&quot;hel&quot;</span>,
    <span class="hljs-string">&quot;field&quot;</span>: <span class="hljs-string">&quot;description&quot;</span>,
    <span class="hljs-string">&quot;boost&quot;</span>: <span class="hljs-number">1.0</span>
  }
}
</code></pre>
<h2 id="query-string-query">Query string query</h2>
<p>This query uses a syntax to parse and split the provided query string based on operators, such as AND or NOT. The query then analyzes each split text independently before returning matching documents.</p>
<ul>
<li><code>query</code>: Query string you wish to parse and use for search.</li>
<li><code>date_format</code>: Specify a datetime format. See <a href="https://pkg.go.dev/time#pkg-constants" target="_blank">time</a> package for details.</li>
<li><code>analyzer</code>: Specifies the analyzer to analyze the specified text. If omitted, the default analyzer will be applied. See <a href="analyzer.html">Analyzer</a> section for details on how to specify the analyzer.</li>
</ul>
<pre><code class="lang-json">{
  <span class="hljs-string">&quot;type&quot;</span>: <span class="hljs-string">&quot;query_string&quot;</span>,
  <span class="hljs-string">&quot;options&quot;</span>: {
    <span class="hljs-string">&quot;query&quot;</span>: <span class="hljs-string">&quot;hello AND world&quot;</span>,
    <span class="hljs-string">&quot;date_format&quot;</span>: <span class="hljs-string">&quot;RFC3339&quot;</span>,
    <span class="hljs-string">&quot;analyzers&quot;</span>: {
      <span class="hljs-string">&quot;title&quot;</span>: {
        <span class="hljs-string">&quot;char_filters&quot;</span>: [
          {
            <span class="hljs-string">&quot;name&quot;</span>: <span class="hljs-string">&quot;unicode_normalize&quot;</span>,
            <span class="hljs-string">&quot;options&quot;</span>: {
              <span class="hljs-string">&quot;form&quot;</span>: <span class="hljs-string">&quot;NFKC&quot;</span>
            }
          }
        ],
        <span class="hljs-string">&quot;tokenizer&quot;</span>: {
          <span class="hljs-string">&quot;name&quot;</span>: <span class="hljs-string">&quot;unicode&quot;</span>
        },
        <span class="hljs-string">&quot;token_filters&quot;</span>: [
          {
            <span class="hljs-string">&quot;name&quot;</span>: <span class="hljs-string">&quot;lower_case&quot;</span>
          }
        ]
      },
      <span class="hljs-string">&quot;description&quot;</span>: {
        <span class="hljs-string">&quot;char_filters&quot;</span>: [
          {
            <span class="hljs-string">&quot;name&quot;</span>: <span class="hljs-string">&quot;unicode_normalize&quot;</span>,
            <span class="hljs-string">&quot;options&quot;</span>: {
              <span class="hljs-string">&quot;form&quot;</span>: <span class="hljs-string">&quot;NFKC&quot;</span>
            }
          }
        ],
        <span class="hljs-string">&quot;tokenizer&quot;</span>: {
          <span class="hljs-string">&quot;name&quot;</span>: <span class="hljs-string">&quot;unicode&quot;</span>
        },
        <span class="hljs-string">&quot;token_filters&quot;</span>: [
          {
            <span class="hljs-string">&quot;name&quot;</span>: <span class="hljs-string">&quot;lower_case&quot;</span>
          }
        ]
      }
    }
  }
}
</code></pre>
<h2 id="regexp-query">Regexp query</h2>
<p>This query which finds documents containing terms that match the specified regular expression.</p>
<ul>
<li><code>regexp</code>: Regular expression for terms to search for.</li>
<li><code>field</code>: Specify the target field name.</li>
<li><code>boost</code>: To boost a query. By default, the boost factor is 1.0. Although the boost factor must be positive, it can be less than 1 (for example, it could be 0.2).</li>
</ul>
<pre><code class="lang-json">{
  <span class="hljs-string">&quot;type&quot;</span>: <span class="hljs-string">&quot;regex&quot;</span>,
  <span class="hljs-string">&quot;options&quot;</span>: {
    <span class="hljs-string">&quot;regexp&quot;</span>: <span class="hljs-string">&quot;hel.*&quot;</span>,
    <span class="hljs-string">&quot;field&quot;</span>: <span class="hljs-string">&quot;description&quot;</span>,
    <span class="hljs-string">&quot;boost&quot;</span>: <span class="hljs-number">1.0</span>
  }
}
</code></pre>
<h2 id="term-query">Term query</h2>
<p>This query searches an exact term match in the index.</p>
<ul>
<li><code>term</code>: Specify the term to search for.</li>
<li><code>field</code>: Specify the target field name.</li>
<li><code>boost</code>: To boost a query. By default, the boost factor is 1.0. Although the boost factor must be positive, it can be less than 1 (for example, it could be 0.2).</li>
</ul>
<pre><code class="lang-json">{
  <span class="hljs-string">&quot;type&quot;</span>: <span class="hljs-string">&quot;term&quot;</span>,
  <span class="hljs-string">&quot;options&quot;</span>: {
    <span class="hljs-string">&quot;term&quot;</span>: <span class="hljs-string">&quot;hello&quot;</span>,
    <span class="hljs-string">&quot;field&quot;</span>: <span class="hljs-string">&quot;description&quot;</span>,
    <span class="hljs-string">&quot;boost&quot;</span>: <span class="hljs-number">1.0</span>
  }
}
</code></pre>
<h2 id="term-range-query">Term range query</h2>
<p>This query searches ranges of text terms.
Either, but not both endpoints can be &quot;&quot;.</p>
<ul>
<li><code>min</code>: The minimum value.</li>
<li><code>max</code>: The maximum value.</li>
<li><code>inclusive_min</code>: Specifies whether or not to include the minimum value.</li>
<li><code>inclusive_max</code>: Specifies whether or not to include the maximum value.</li>
<li><code>field</code>: Specify the target field name.</li>
<li><code>boost</code>: To boost a query. By default, the boost factor is 1.0. Although the boost factor must be positive, it can be less than 1 (for example, it could be 0.2).</li>
</ul>
<pre><code class="lang-json">{
  <span class="hljs-string">&quot;type&quot;</span>: <span class="hljs-string">&quot;term_range&quot;</span>,
  <span class="hljs-string">&quot;options&quot;</span>: {
    <span class="hljs-string">&quot;min&quot;</span>: <span class="hljs-string">&quot;a&quot;</span>,
    <span class="hljs-string">&quot;max&quot;</span>: <span class="hljs-string">&quot;z&quot;</span>,
    <span class="hljs-string">&quot;inclusive_min&quot;</span>: <span class="hljs-literal">true</span>,
    <span class="hljs-string">&quot;inclusive_max&quot;</span>: <span class="hljs-literal">false</span>,
    <span class="hljs-string">&quot;field&quot;</span>: <span class="hljs-string">&quot;description&quot;</span>,
    <span class="hljs-string">&quot;boost&quot;</span>: <span class="hljs-number">1.0</span>
  }
}
</code></pre>
<h2 id="wildcard-query">Wildcard query</h2>
<p>This query finds documents containing terms that match the specified wildcard.  In the wildcard pattern &apos;*&apos; will match any sequence of 0 or more characters, and &apos;?&apos; will match any single character.</p>
<ul>
<li><code>wildcard</code>: Specify the wildcard pattern to search for.</li>
<li><code>field</code>: Specify the target field name.</li>
<li><code>boost</code>: To boost a query. By default, the boost factor is 1.0. Although the boost factor must be positive, it can be less than 1 (for example, it could be 0.2).</li>
</ul>
<pre><code class="lang-json">{
  <span class="hljs-string">&quot;type&quot;</span>: <span class="hljs-string">&quot;wildcard&quot;</span>,
  <span class="hljs-string">&quot;options&quot;</span>: {
    <span class="hljs-string">&quot;wildcard&quot;</span>: <span class="hljs-string">&quot;h*&quot;</span>,
    <span class="hljs-string">&quot;field&quot;</span>: <span class="hljs-string">&quot;description&quot;</span>,
    <span class="hljs-string">&quot;boost&quot;</span>: <span class="hljs-number">1.0</span>
  }
}
</code></pre>

                                
                                </section>
                            
    </div>
    <div class="search-results">
        <div class="has-results">
            
            <h1 class="search-results-title"><span class='search-results-count'></span> results matching "<span class='search-query'></span>"</h1>
            <ul class="search-results-list"></ul>
            
        </div>
        <div class="no-results">
            
            <h1 class="search-results-title">No results matching "<span class='search-query'></span>"</h1>
            
        </div>
    </div>
</div>

                        </div>
                    </div>
                
            </div>

            
                
                <a href="analyzer/token_filters.html" class="navigation navigation-prev " aria-label="Previous page: Token filters">
                    <i class="fa fa-angle-left"></i>
                </a>
                
                
                <a href="aggregations.html" class="navigation navigation-next " aria-label="Next page: Aggregations">
                    <i class="fa fa-angle-right"></i>
                </a>
                
            
        
    </div>

    <script>
        var gitbook = gitbook || [];
        gitbook.push(function() {
            gitbook.page.hasChanged({"page":{"title":"Queries","level":"1.13","depth":1,"next":{"title":"Aggregations","level":"1.14","depth":1,"path":"aggregations.md","ref":"aggregations.md","articles":[]},"previous":{"title":"Token filters","level":"1.12.3","depth":2,"path":"analyzer/token_filters.md","ref":"analyzer/token_filters.md","articles":[]},"dir":"ltr"},"config":{"gitbook":"*","theme":"default","variables":{},"plugins":["hide-published-with"],"pluginsConfig":{"hide-published-with":{},"highlight":{},"search":{},"lunr":{"maxIndexSize":1000000,"ignoreSpecialCharacters":false},"sharing":{"facebook":true,"twitter":true,"google":false,"weibo":false,"instapaper":false,"vk":false,"all":["facebook","google","twitter","weibo","instapaper"]},"fontsettings":{"theme":"white","family":"sans","size":2},"theme-default":{"styles":{"website":"styles/website.css","pdf":"styles/pdf.css","epub":"styles/epub.css","mobi":"styles/mobi.css","ebook":"styles/ebook.css","print":"styles/print.css"},"showLevel":false}},"structure":{"langs":"LANGS.md","readme":"README.md","glossary":"GLOSSARY.md","summary":"SUMMARY.md"},"pdf":{"pageNumbers":true,"fontSize":12,"fontFamily":"Arial","paperSize":"a4","chapterMark":"pagebreak","pageBreaksBefore":"/","margin":{"right":62,"left":62,"top":56,"bottom":56}},"styles":{"website":"styles/website.css","pdf":"styles/pdf.css","epub":"styles/epub.css","mobi":"styles/mobi.css","ebook":"styles/ebook.css","print":"styles/print.css"}},"file":{"path":"queries.md","mtime":"2022-02-07T00:58:32.786Z","type":"markdown"},"gitbook":{"version":"3.2.3","time":"2022-02-14T03:57:35.080Z"},"basePath":".","book":{"language":""}});
        });
    </script>
</div>

        
    <script src="gitbook/gitbook.js"></script>
    <script src="gitbook/theme.js"></script>
    
        
        <script src="gitbook/gitbook-plugin-hide-published-with/plugin.js"></script>
        
    
        
        <script src="gitbook/gitbook-plugin-search/search-engine.js"></script>
        
    
        
        <script src="gitbook/gitbook-plugin-search/search.js"></script>
        
    
        
        <script src="gitbook/gitbook-plugin-lunr/lunr.min.js"></script>
        
    
        
        <script src="gitbook/gitbook-plugin-lunr/search-lunr.js"></script>
        
    
        
        <script src="gitbook/gitbook-plugin-sharing/buttons.js"></script>
        
    
        
        <script src="gitbook/gitbook-plugin-fontsettings/fontsettings.js"></script>
        
    

    </body>
</html>

