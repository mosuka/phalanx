
<!DOCTYPE HTML>
<html lang="" >
    <head>
        <meta charset="UTF-8">
        <meta content="text/html; charset=utf-8" http-equiv="Content-Type">
        <title>Get started Â· GitBook</title>
        <meta http-equiv="X-UA-Compatible" content="IE=edge" />
        <meta name="description" content="">
        <meta name="generator" content="GitBook 3.2.3">
        
        
        
    
    <link rel="stylesheet" href="gitbook/style.css">

    
            
                
                <link rel="stylesheet" href="gitbook/gitbook-plugin-highlight/website.css">
                
            
                
                <link rel="stylesheet" href="gitbook/gitbook-plugin-search/search.css">
                
            
                
                <link rel="stylesheet" href="gitbook/gitbook-plugin-fontsettings/website.css">
                
            
        

    

    
        
    
        
    
        
    
        
    
        
    
        
    

        
    
    
    <meta name="HandheldFriendly" content="true"/>
    <meta name="viewport" content="width=device-width, initial-scale=1, user-scalable=no">
    <meta name="apple-mobile-web-app-capable" content="yes">
    <meta name="apple-mobile-web-app-status-bar-style" content="black">
    <link rel="apple-touch-icon-precomposed" sizes="152x152" href="gitbook/images/apple-touch-icon-precomposed-152.png">
    <link rel="shortcut icon" href="gitbook/images/favicon.ico" type="image/x-icon">

    
    <link rel="next" href="metadata_store.html" />
    
    
    <link rel="prev" href="build.html" />
    

    </head>
    <body>
        
<div class="book">
    <div class="book-summary">
        
            
<div id="book-search-input" role="search">
    <input type="text" placeholder="Type to search" />
</div>

            
                <nav role="navigation">
                


<ul class="summary">
    
    

    

    
        
        
    
        <li class="chapter " data-level="1.1" data-path="./">
            
                <a href="./">
            
                    
                    Introduction
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.2" data-path="architecture.html">
            
                <a href="architecture.html">
            
                    
                    Architecture
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.3" data-path="build.html">
            
                <a href="build.html">
            
                    
                    Build
            
                </a>
            

            
        </li>
    
        <li class="chapter active" data-level="1.4" data-path="get_started.html">
            
                <a href="get_started.html">
            
                    
                    Get started
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.5" data-path="metadata_store.html">
            
                <a href="metadata_store.html">
            
                    
                    Metadata Store
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.6" data-path="index_store.html">
            
                <a href="index_store.html">
            
                    
                    Index Store
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.7" data-path="lock_store.html">
            
                <a href="lock_store.html">
            
                    
                    Lock Store
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.8" data-path="index_metadata.html">
            
                <a href="index_metadata.html">
            
                    
                    Index Metadata
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.9" data-path="run_with_minio_etcd.html">
            
                <a href="run_with_minio_etcd.html">
            
                    
                    Run with MinIO and etcd
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.10" data-path="run_with_aws.html">
            
                <a href="run_with_aws.html">
            
                    
                    Run with AWS
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.11" data-path="index_mapping.html">
            
                <a href="index_mapping.html">
            
                    
                    Index Mapping
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.12" data-path="analyzer.html">
            
                <a href="analyzer.html">
            
                    
                    Analyzer
            
                </a>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="1.12.1" data-path="analyzer/char_filters.html">
            
                <a href="analyzer/char_filters.html">
            
                    
                    Char filters
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.12.2" data-path="analyzer/tokenizers.html">
            
                <a href="analyzer/tokenizers.html">
            
                    
                    Tokenizers
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.12.3" data-path="analyzer/token_filters.html">
            
                <a href="analyzer/token_filters.html">
            
                    
                    Token filters
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="1.13" data-path="queries.html">
            
                <a href="queries.html">
            
                    
                    Queries
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.14" data-path="aggregations.html">
            
                <a href="aggregations.html">
            
                    
                    Aggregations
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.15" data-path="highlights.html">
            
                <a href="highlights.html">
            
                    
                    Highlights
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.16" data-path="restful_api.html">
            
                <a href="restful_api.html">
            
                    
                    RESTful API
            
                </a>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="1.16.1" data-path="restful_api/create_index_api.html">
            
                <a href="restful_api/create_index_api.html">
            
                    
                    Create Index API
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.16.2" data-path="restful_api/delete_index_api.html">
            
                <a href="restful_api/delete_index_api.html">
            
                    
                    Delete Index API
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.16.3" data-path="restful_api/add_documents_api.html">
            
                <a href="restful_api/add_documents_api.html">
            
                    
                    Add Documents API
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.16.4" data-path="restful_api/delete_documents_api.html">
            
                <a href="restful_api/delete_documents_api.html">
            
                    
                    Delete Documents API
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.16.5" data-path="restful_api/search_api.html">
            
                <a href="restful_api/search_api.html">
            
                    
                    Search API
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="1.17" data-path="docker.html">
            
                <a href="docker.html">
            
                    
                    Docker
            
                </a>
            

            
        </li>
    

    

    <li class="divider"></li>

    <li>
        <a href="https://www.gitbook.com" target="blank" class="gitbook-link">
            Published with GitBook
        </a>
    </li>
</ul>


                </nav>
            
        
    </div>

    <div class="book-body">
        
            <div class="body-inner">
                
                    

<div class="book-header" role="navigation">
    

    <!-- Title -->
    <h1>
        <i class="fa fa-circle-o-notch fa-spin"></i>
        <a href="." >Get started</a>
    </h1>
</div>




                    <div class="page-wrapper" tabindex="-1" role="main">
                        <div class="page-inner">
                            
<div id="book-search-results">
    <div class="search-noresults">
    
                                <section class="normal markdown-section">
                                
                                <h1 id="getting-started">Getting started</h1>
<h2 id="start-phalanx-on-a-local-machine-using-a-local-file-system">Start Phalanx on a local machine using a local file system</h2>
<p>Phalanx can be started on a local machine using a local file system as a metastore. The following command starts with a configuration file:</p>
<pre><code>% ./bin/phalanx --index-metastore-uri=file:///tmp/phalanx-metadata
</code></pre><p>Multiple Phalanx nodes can be started on the local machine to run a pseudo-cluster.
You can easily add nodes to the cluster with the previously started node as the seed node, using the following command.</p>
<p>Start the second node:</p>
<pre><code>% ./bin/phalanx --index-metastore-uri=file:///tmp/phalanx-metadata --bind-port=2001 --grpc-port=5001 --http-port=8001 --seed-addresses=localhost:2000
</code></pre><p>Start the third node:</p>
<pre><code>% ./bin/phalanx --index-metastore-uri=file:///tmp/phalanx-metadata --bind-port=2002 --grpc-port=5002 --http-port=8002 --seed-addresses=localhost:2000
</code></pre><p>A metastore is a place where various information about an index is stored.
See the <a href="metadata_store.html">metadata store section</a> for details.</p>
<h3 id="create-index-on-local-file-system">Create index on local file system</h3>
<p>If you have started Phalanx to use the local file system, you can use this command to create an index.
If you have started Phalanx to use the local file system, you can use this command to create an index. If you want to use an object store for index storage, you need to specify <code>lock_uri</code> as well.
See the <a href="index_store.html">index store section</a> and the <a href="lock_store.html">lock store section</a>for details.</p>
<pre><code>% curl -XPUT -H &apos;Content-type: application/json&apos; http://localhost:8000/v1/indexes/example --data-binary &apos;
{
    &quot;index_uri&quot;: &quot;file:///tmp/phalanx-indexes/example&quot;,
    &quot;index_mapping&quot;: {
        &quot;id&quot;: {
            &quot;type&quot;: &quot;numeric&quot;,
            &quot;options&quot;: {
                &quot;index&quot;: true,
                &quot;store&quot;: true,
                &quot;sortable&quot;: true,
                &quot;aggregatable&quot;: true
            }
        },
        &quot;text&quot;: {
            &quot;type&quot;: &quot;text&quot;,
            &quot;options&quot;: {
                &quot;index&quot;: true,
                &quot;store&quot;: true,
                &quot;term_positions&quot;: true,
                &quot;highlight&quot;: true,
                &quot;sortable&quot;: true,
                &quot;aggregatable&quot;: true
            },
            &quot;analyzer&quot;: {
                &quot;char_filters&quot;: [
                    {
                        &quot;name&quot;: &quot;ascii_folding&quot;
                    },
                    {
                        &quot;name&quot;: &quot;unicode_normalize&quot;,
                        &quot;options&quot;: {
                            &quot;form&quot;: &quot;NFKC&quot;
                        }
                    }
                ],
                &quot;tokenizer&quot;: {
                    &quot;name&quot;: &quot;unicode&quot;
                },
                &quot;token_filters&quot;: [
                    {
                        &quot;name&quot;: &quot;lower_case&quot;
                    }
                ]
            }
        }
    },
    &quot;num_shards&quot;: 6,
    &quot;default_search_field&quot;: &quot;_all&quot;,
    &quot;default_analyzer&quot;: {
        &quot;tokenizer&quot;: {
            &quot;name&quot;: &quot;unicode&quot;
        },
        &quot;token_filters&quot;: [
            {
                &quot;name&quot;: &quot;lower_case&quot;
            }
        ]
    }
}
&apos;
</code></pre><h2 id="health-check">Health check</h2>
<p>These endpoints should be used for Phalanx health checks.</p>
<h3 id="liveness-check">Liveness check</h3>
<p>If Phalanx is running properly, it will return HTTP status 200.</p>
<pre><code>% curl -XGET http://localhost:8000/livez | jq .
</code></pre><pre><code class="lang-json">{
  <span class="hljs-string">&quot;state&quot;</span>:<span class="hljs-string">&quot;alive&quot;</span>
}
</code></pre>
<h3 id="readiness-check">Readiness check</h3>
<p>If Phalanx is ready to accept the traffic, it will return HTTP Status 200.</p>
<pre><code>% curl -XGET http://localhost:8000/readyz | jq .
</code></pre><pre><code class="lang-json">{
  <span class="hljs-string">&quot;state&quot;</span>:<span class="hljs-string">&quot;ready&quot;</span>
}
</code></pre>
<p>But this endpoint is not yet fully implemented.</p>
<h2 id="metrics-exposition">Metrics exposition</h2>
<p>This endpoint returns Phalanx metrics in Prometheus exposition format.</p>
<pre><code>% curl -XGET http://localhost:8000/metrics
</code></pre><pre><code class="lang-text"># HELP phalanx_grpc_server_handled_total Total number of RPCs completed on the server, regardless of success or failure.
# TYPE phalanx_grpc_server_handled_total counter
phalanx_grpc_server_handled_total{grpc_code=&quot;Aborted&quot;,grpc_method=&quot;AddDocuments&quot;,grpc_service=&quot;index.Index&quot;,grpc_type=&quot;unary&quot;} 0
phalanx_grpc_server_handled_total{grpc_code=&quot;Aborted&quot;,grpc_method=&quot;Cluster&quot;,grpc_service=&quot;index.Index&quot;,grpc_type=&quot;unary&quot;} 0
...
phalanx_grpc_server_started_total{grpc_method=&quot;Metrics&quot;,grpc_service=&quot;index.Index&quot;,grpc_type=&quot;unary&quot;} 1
phalanx_grpc_server_started_total{grpc_method=&quot;ReadinessCheck&quot;,grpc_service=&quot;index.Index&quot;,grpc_type=&quot;unary&quot;} 0
phalanx_grpc_server_started_total{grpc_method=&quot;Search&quot;,grpc_service=&quot;index.Index&quot;,grpc_type=&quot;unary&quot;} 0
</code></pre>
<h2 id="cluster-status">Cluster status</h2>
<p>This endpoint returns the latest cluster status.</p>
<ul>
<li><code>nodes</code>: Lists the nodes that are joining in the cluster.</li>
<li><code>indexes</code>: Lists the indexes served by the cluster.</li>
<li><code>indexer_assignment</code>: Lists which node is responsible for the shard in the index.</li>
<li><code>searcher_assignment</code>: Lists which nodes are responsible for the shard in the index.</li>
</ul>
<pre><code>% curl -XGET http://localhost:8000/cluster | jq .
</code></pre><pre><code class="lang-json">{
  <span class="hljs-string">&quot;indexer_assignment&quot;</span>: {
    <span class="hljs-string">&quot;example&quot;</span>: {
      <span class="hljs-string">&quot;shard-60zYKCLJ&quot;</span>: <span class="hljs-string">&quot;node-1P4Hkvhy&quot;</span>,
      <span class="hljs-string">&quot;shard-EIPjSbHG&quot;</span>: <span class="hljs-string">&quot;node-1P4Hkvhy&quot;</span>,
      <span class="hljs-string">&quot;shard-HYuLwqp8&quot;</span>: <span class="hljs-string">&quot;node-1P4Hkvhy&quot;</span>,
      <span class="hljs-string">&quot;shard-rIWGHdkS&quot;</span>: <span class="hljs-string">&quot;node-1P4Hkvhy&quot;</span>,
      <span class="hljs-string">&quot;shard-sNHs6Kyh&quot;</span>: <span class="hljs-string">&quot;node-1P4Hkvhy&quot;</span>,
      <span class="hljs-string">&quot;shard-wrAZqmV6&quot;</span>: <span class="hljs-string">&quot;node-1P4Hkvhy&quot;</span>
    }
  },
  <span class="hljs-string">&quot;indexes&quot;</span>: {
    <span class="hljs-string">&quot;example&quot;</span>: {
      <span class="hljs-string">&quot;index_lock_uri&quot;</span>: <span class="hljs-string">&quot;&quot;</span>,
      <span class="hljs-string">&quot;index_mapping&quot;</span>: {
        <span class="hljs-string">&quot;id&quot;</span>: {
          <span class="hljs-string">&quot;type&quot;</span>: <span class="hljs-string">&quot;numeric&quot;</span>,
          <span class="hljs-string">&quot;options&quot;</span>: {
            <span class="hljs-string">&quot;index&quot;</span>: <span class="hljs-literal">true</span>,
            <span class="hljs-string">&quot;store&quot;</span>: <span class="hljs-literal">true</span>,
            <span class="hljs-string">&quot;term_positions&quot;</span>: <span class="hljs-literal">false</span>,
            <span class="hljs-string">&quot;highlight&quot;</span>: <span class="hljs-literal">false</span>,
            <span class="hljs-string">&quot;sortable&quot;</span>: <span class="hljs-literal">true</span>,
            <span class="hljs-string">&quot;aggregatable&quot;</span>: <span class="hljs-literal">true</span>
          },
          <span class="hljs-string">&quot;analyzer&quot;</span>: {
            <span class="hljs-string">&quot;char_filters&quot;</span>: <span class="hljs-literal">null</span>,
            <span class="hljs-string">&quot;tokenizer&quot;</span>: {
              <span class="hljs-string">&quot;name&quot;</span>: <span class="hljs-string">&quot;&quot;</span>,
              <span class="hljs-string">&quot;options&quot;</span>: <span class="hljs-literal">null</span>
            },
            <span class="hljs-string">&quot;token_filters&quot;</span>: <span class="hljs-literal">null</span>
          }
        },
        <span class="hljs-string">&quot;text&quot;</span>: {
          <span class="hljs-string">&quot;type&quot;</span>: <span class="hljs-string">&quot;text&quot;</span>,
          <span class="hljs-string">&quot;options&quot;</span>: {
            <span class="hljs-string">&quot;index&quot;</span>: <span class="hljs-literal">true</span>,
            <span class="hljs-string">&quot;store&quot;</span>: <span class="hljs-literal">true</span>,
            <span class="hljs-string">&quot;term_positions&quot;</span>: <span class="hljs-literal">true</span>,
            <span class="hljs-string">&quot;highlight&quot;</span>: <span class="hljs-literal">true</span>,
            <span class="hljs-string">&quot;sortable&quot;</span>: <span class="hljs-literal">true</span>,
            <span class="hljs-string">&quot;aggregatable&quot;</span>: <span class="hljs-literal">true</span>
          },
          <span class="hljs-string">&quot;analyzer&quot;</span>: {
            <span class="hljs-string">&quot;char_filters&quot;</span>: [
              {
                <span class="hljs-string">&quot;name&quot;</span>: <span class="hljs-string">&quot;ascii_folding&quot;</span>,
                <span class="hljs-string">&quot;options&quot;</span>: <span class="hljs-literal">null</span>
              },
              {
                <span class="hljs-string">&quot;name&quot;</span>: <span class="hljs-string">&quot;unicode_normalize&quot;</span>,
                <span class="hljs-string">&quot;options&quot;</span>: {
                  <span class="hljs-string">&quot;form&quot;</span>: <span class="hljs-string">&quot;NFKC&quot;</span>
                }
              }
            ],
            <span class="hljs-string">&quot;tokenizer&quot;</span>: {
              <span class="hljs-string">&quot;name&quot;</span>: <span class="hljs-string">&quot;unicode&quot;</span>,
              <span class="hljs-string">&quot;options&quot;</span>: <span class="hljs-literal">null</span>
            },
            <span class="hljs-string">&quot;token_filters&quot;</span>: [
              {
                <span class="hljs-string">&quot;name&quot;</span>: <span class="hljs-string">&quot;lower_case&quot;</span>,
                <span class="hljs-string">&quot;options&quot;</span>: <span class="hljs-literal">null</span>
              }
            ]
          }
        }
      },
      <span class="hljs-string">&quot;index_uri&quot;</span>: <span class="hljs-string">&quot;file:///tmp/phalanx-indexes/example&quot;</span>,
      <span class="hljs-string">&quot;shards&quot;</span>: {
        <span class="hljs-string">&quot;shard-60zYKCLJ&quot;</span>: {
          <span class="hljs-string">&quot;shard_lock_uri&quot;</span>: <span class="hljs-string">&quot;&quot;</span>,
          <span class="hljs-string">&quot;shard_uri&quot;</span>: <span class="hljs-string">&quot;file:///tmp/phalanx-indexes/example/shard-60zYKCLJ&quot;</span>
        },
        <span class="hljs-string">&quot;shard-EIPjSbHG&quot;</span>: {
          <span class="hljs-string">&quot;shard_lock_uri&quot;</span>: <span class="hljs-string">&quot;&quot;</span>,
          <span class="hljs-string">&quot;shard_uri&quot;</span>: <span class="hljs-string">&quot;file:///tmp/phalanx-indexes/example/shard-EIPjSbHG&quot;</span>
        },
        <span class="hljs-string">&quot;shard-HYuLwqp8&quot;</span>: {
          <span class="hljs-string">&quot;shard_lock_uri&quot;</span>: <span class="hljs-string">&quot;&quot;</span>,
          <span class="hljs-string">&quot;shard_uri&quot;</span>: <span class="hljs-string">&quot;file:///tmp/phalanx-indexes/example/shard-HYuLwqp8&quot;</span>
        },
        <span class="hljs-string">&quot;shard-rIWGHdkS&quot;</span>: {
          <span class="hljs-string">&quot;shard_lock_uri&quot;</span>: <span class="hljs-string">&quot;&quot;</span>,
          <span class="hljs-string">&quot;shard_uri&quot;</span>: <span class="hljs-string">&quot;file:///tmp/phalanx-indexes/example/shard-rIWGHdkS&quot;</span>
        },
        <span class="hljs-string">&quot;shard-sNHs6Kyh&quot;</span>: {
          <span class="hljs-string">&quot;shard_lock_uri&quot;</span>: <span class="hljs-string">&quot;&quot;</span>,
          <span class="hljs-string">&quot;shard_uri&quot;</span>: <span class="hljs-string">&quot;file:///tmp/phalanx-indexes/example/shard-sNHs6Kyh&quot;</span>
        },
        <span class="hljs-string">&quot;shard-wrAZqmV6&quot;</span>: {
          <span class="hljs-string">&quot;shard_lock_uri&quot;</span>: <span class="hljs-string">&quot;&quot;</span>,
          <span class="hljs-string">&quot;shard_uri&quot;</span>: <span class="hljs-string">&quot;file:///tmp/phalanx-indexes/example/shard-wrAZqmV6&quot;</span>
        }
      }
    }
  },
  <span class="hljs-string">&quot;nodes&quot;</span>: {
    <span class="hljs-string">&quot;node-1P4Hkvhy&quot;</span>: {
      <span class="hljs-string">&quot;addr&quot;</span>: <span class="hljs-string">&quot;0.0.0.0&quot;</span>,
      <span class="hljs-string">&quot;meta&quot;</span>: {
        <span class="hljs-string">&quot;grpc_port&quot;</span>: <span class="hljs-number">5002</span>,
        <span class="hljs-string">&quot;http_port&quot;</span>: <span class="hljs-number">8002</span>,
        <span class="hljs-string">&quot;roles&quot;</span>: [
          <span class="hljs-string">&quot;indexer&quot;</span>,
          <span class="hljs-string">&quot;searcher&quot;</span>
        ]
      },
      <span class="hljs-string">&quot;port&quot;</span>: <span class="hljs-number">2002</span>,
      <span class="hljs-string">&quot;state&quot;</span>: <span class="hljs-string">&quot;alive&quot;</span>
    },
    <span class="hljs-string">&quot;node-snjdTQVL&quot;</span>: {
      <span class="hljs-string">&quot;addr&quot;</span>: <span class="hljs-string">&quot;0.0.0.0&quot;</span>,
      <span class="hljs-string">&quot;meta&quot;</span>: {
        <span class="hljs-string">&quot;grpc_port&quot;</span>: <span class="hljs-number">5001</span>,
        <span class="hljs-string">&quot;http_port&quot;</span>: <span class="hljs-number">8001</span>,
        <span class="hljs-string">&quot;roles&quot;</span>: [
          <span class="hljs-string">&quot;indexer&quot;</span>,
          <span class="hljs-string">&quot;searcher&quot;</span>
        ]
      },
      <span class="hljs-string">&quot;port&quot;</span>: <span class="hljs-number">2001</span>,
      <span class="hljs-string">&quot;state&quot;</span>: <span class="hljs-string">&quot;alive&quot;</span>
    },
    <span class="hljs-string">&quot;node-z8PozpGp&quot;</span>: {
      <span class="hljs-string">&quot;addr&quot;</span>: <span class="hljs-string">&quot;0.0.0.0&quot;</span>,
      <span class="hljs-string">&quot;meta&quot;</span>: {
        <span class="hljs-string">&quot;grpc_port&quot;</span>: <span class="hljs-number">5000</span>,
        <span class="hljs-string">&quot;http_port&quot;</span>: <span class="hljs-number">8000</span>,
        <span class="hljs-string">&quot;roles&quot;</span>: [
          <span class="hljs-string">&quot;indexer&quot;</span>,
          <span class="hljs-string">&quot;searcher&quot;</span>
        ]
      },
      <span class="hljs-string">&quot;port&quot;</span>: <span class="hljs-number">2000</span>,
      <span class="hljs-string">&quot;state&quot;</span>: <span class="hljs-string">&quot;alive&quot;</span>
    }
  },
  <span class="hljs-string">&quot;searcher_assignment&quot;</span>: {
    <span class="hljs-string">&quot;example&quot;</span>: {
      <span class="hljs-string">&quot;shard-60zYKCLJ&quot;</span>: [
        <span class="hljs-string">&quot;node-1P4Hkvhy&quot;</span>,
        <span class="hljs-string">&quot;node-snjdTQVL&quot;</span>,
        <span class="hljs-string">&quot;node-z8PozpGp&quot;</span>
      ],
      <span class="hljs-string">&quot;shard-EIPjSbHG&quot;</span>: [
        <span class="hljs-string">&quot;node-1P4Hkvhy&quot;</span>,
        <span class="hljs-string">&quot;node-z8PozpGp&quot;</span>,
        <span class="hljs-string">&quot;node-snjdTQVL&quot;</span>
      ],
      <span class="hljs-string">&quot;shard-HYuLwqp8&quot;</span>: [
        <span class="hljs-string">&quot;node-1P4Hkvhy&quot;</span>,
        <span class="hljs-string">&quot;node-z8PozpGp&quot;</span>,
        <span class="hljs-string">&quot;node-snjdTQVL&quot;</span>
      ],
      <span class="hljs-string">&quot;shard-rIWGHdkS&quot;</span>: [
        <span class="hljs-string">&quot;node-1P4Hkvhy&quot;</span>,
        <span class="hljs-string">&quot;node-z8PozpGp&quot;</span>,
        <span class="hljs-string">&quot;node-snjdTQVL&quot;</span>
      ],
      <span class="hljs-string">&quot;shard-sNHs6Kyh&quot;</span>: [
        <span class="hljs-string">&quot;node-1P4Hkvhy&quot;</span>,
        <span class="hljs-string">&quot;node-z8PozpGp&quot;</span>,
        <span class="hljs-string">&quot;node-snjdTQVL&quot;</span>
      ],
      <span class="hljs-string">&quot;shard-wrAZqmV6&quot;</span>: [
        <span class="hljs-string">&quot;node-1P4Hkvhy&quot;</span>,
        <span class="hljs-string">&quot;node-snjdTQVL&quot;</span>,
        <span class="hljs-string">&quot;node-z8PozpGp&quot;</span>
      ]
    }
  }
}
</code></pre>
<h2 id="add--update-documents">Add / Update documents</h2>
<pre><code>% curl -XPUT -H &apos;Content-type: application/x-ndjson&apos; http://localhost:8000/v1/indexes/example/documents --data-binary &apos;
{&quot;_id&quot;:&quot;1&quot;, &quot;id&quot;:1, &quot;text&quot;:&quot;This is an example document 1.&quot;}
{&quot;_id&quot;:&quot;2&quot;, &quot;id&quot;:2, &quot;text&quot;:&quot;This is an example document 2.&quot;}
{&quot;_id&quot;:&quot;3&quot;, &quot;id&quot;:3, &quot;text&quot;:&quot;This is an example document 3.&quot;}
{&quot;_id&quot;:&quot;4&quot;, &quot;id&quot;:4, &quot;text&quot;:&quot;This is an example document 4.&quot;}
{&quot;_id&quot;:&quot;5&quot;, &quot;id&quot;:5, &quot;text&quot;:&quot;This is an example document 5.&quot;}
{&quot;_id&quot;:&quot;6&quot;, &quot;id&quot;:6, &quot;text&quot;:&quot;This is an example document 6.&quot;}
{&quot;_id&quot;:&quot;7&quot;, &quot;id&quot;:7, &quot;text&quot;:&quot;This is an example document 7.&quot;}
{&quot;_id&quot;:&quot;8&quot;, &quot;id&quot;:8, &quot;text&quot;:&quot;This is an example document 8.&quot;}
{&quot;_id&quot;:&quot;9&quot;, &quot;id&quot;:9, &quot;text&quot;:&quot;This is an example document 9.&quot;}
{&quot;_id&quot;:&quot;10&quot;, &quot;id&quot;:10, &quot;text&quot;:&quot;This is an example document 10.&quot;}
{&quot;_id&quot;:&quot;11&quot;, &quot;id&quot;:11, &quot;text&quot;:&quot;This is an example document 11.&quot;}
{&quot;_id&quot;:&quot;12&quot;, &quot;id&quot;:12, &quot;text&quot;:&quot;This is an example document 12.&quot;}
&apos;
</code></pre><h2 id="delete-documents">Delete documents</h2>
<pre><code>% curl -XDELETE -H &apos;Content-type: text/plain&apos; http://localhost:8000/v1/indexes/example/documents --data-binary &apos;
1
2
3
4
5
6
7
8
9
10
11
12
&apos;
</code></pre><h2 id="search">Search</h2>
<pre><code>% curl -XPOST -H &apos;Content-type: application/json&apos; http://localhost:8000/v1/indexes/example/_search --data-binary &apos;
{
    &quot;query&quot;: {
        &quot;type&quot;: &quot;boolean&quot;,
        &quot;options&quot;: {
            &quot;must&quot;: [
                {
                    &quot;type&quot;: &quot;query_string&quot;,
                    &quot;options&quot;: {
                        &quot;query&quot;: &quot;*&quot;
                    }
                }
            ],
            &quot;min_should&quot;: 1,
            &quot;boost&quot;: 1.0
        }
    },
    &quot;start&quot;: 0,
    &quot;num&quot;: 10,
    &quot;sort_by&quot;: &quot;-_score&quot;,
    &quot;fields&quot;: [
        &quot;id&quot;,
        &quot;text&quot;
    ],
    &quot;aggregations&quot;: {
        &quot;timestamp_date_range&quot;: {
            &quot;type&quot;: &quot;date_range&quot;,
            &quot;options&quot;: {
                &quot;field&quot;: &quot;_timestamp&quot;,
                &quot;ranges&quot;: {
                    &quot;year_before_last&quot;: {
                        &quot;start&quot;: &quot;2020-01-01T00:00:00Z&quot;,
                        &quot;end&quot;: &quot;2021-01-01T00:00:00Z&quot;
                    },
                    &quot;last_year&quot;: {
                        &quot;start&quot;: &quot;2021-01-01T00:00:00Z&quot;,
                        &quot;end&quot;: &quot;2022-01-01T00:00:00Z&quot;
                    },
                    &quot;this_year&quot;: {
                        &quot;start&quot;: &quot;2022-01-01T00:00:00Z&quot;,
                        &quot;end&quot;: &quot;2023-01-01T00:00:00Z&quot;
                    }
                }
            }
        }
    }
}
&apos; | jq .
</code></pre><pre><code class="lang-json">{
  <span class="hljs-string">&quot;aggregations&quot;</span>: {
    <span class="hljs-string">&quot;timestamp_date_range&quot;</span>: {
      <span class="hljs-string">&quot;last_year&quot;</span>: <span class="hljs-number">0</span>,
      <span class="hljs-string">&quot;this_year&quot;</span>: <span class="hljs-number">12</span>,
      <span class="hljs-string">&quot;year_before_last&quot;</span>: <span class="hljs-number">0</span>
    }
  },
  <span class="hljs-string">&quot;documents&quot;</span>: [
    {
      <span class="hljs-string">&quot;fields&quot;</span>: {
        <span class="hljs-string">&quot;id&quot;</span>: <span class="hljs-number">1</span>,
        <span class="hljs-string">&quot;text&quot;</span>: <span class="hljs-string">&quot;This is an example document 1.&quot;</span>
      },
      <span class="hljs-string">&quot;id&quot;</span>: <span class="hljs-string">&quot;1&quot;</span>,
      <span class="hljs-string">&quot;score&quot;</span>: <span class="hljs-number">0.08287343490634301</span>,
      <span class="hljs-string">&quot;timestamp&quot;</span>: <span class="hljs-number">1643177200809294300</span>
    },
    {
      <span class="hljs-string">&quot;fields&quot;</span>: {
        <span class="hljs-string">&quot;id&quot;</span>: <span class="hljs-number">2</span>,
        <span class="hljs-string">&quot;text&quot;</span>: <span class="hljs-string">&quot;This is an example document 2.&quot;</span>
      },
      <span class="hljs-string">&quot;id&quot;</span>: <span class="hljs-string">&quot;2&quot;</span>,
      <span class="hljs-string">&quot;score&quot;</span>: <span class="hljs-number">0.08287343490634301</span>,
      <span class="hljs-string">&quot;timestamp&quot;</span>: <span class="hljs-number">1643177200809316000</span>
    },
    {
      <span class="hljs-string">&quot;fields&quot;</span>: {
        <span class="hljs-string">&quot;id&quot;</span>: <span class="hljs-number">4</span>,
        <span class="hljs-string">&quot;text&quot;</span>: <span class="hljs-string">&quot;This is an example document 4.&quot;</span>
      },
      <span class="hljs-string">&quot;id&quot;</span>: <span class="hljs-string">&quot;4&quot;</span>,
      <span class="hljs-string">&quot;score&quot;</span>: <span class="hljs-number">0.047891143480830164</span>,
      <span class="hljs-string">&quot;timestamp&quot;</span>: <span class="hljs-number">1643177200809422600</span>
    },
    {
      <span class="hljs-string">&quot;fields&quot;</span>: {
        <span class="hljs-string">&quot;id&quot;</span>: <span class="hljs-number">7</span>,
        <span class="hljs-string">&quot;text&quot;</span>: <span class="hljs-string">&quot;This is an example document 7.&quot;</span>
      },
      <span class="hljs-string">&quot;id&quot;</span>: <span class="hljs-string">&quot;7&quot;</span>,
      <span class="hljs-string">&quot;score&quot;</span>: <span class="hljs-number">0.047891143480830164</span>,
      <span class="hljs-string">&quot;timestamp&quot;</span>: <span class="hljs-number">1643177200809437000</span>
    },
    {
      <span class="hljs-string">&quot;fields&quot;</span>: {
        <span class="hljs-string">&quot;id&quot;</span>: <span class="hljs-number">10</span>,
        <span class="hljs-string">&quot;text&quot;</span>: <span class="hljs-string">&quot;This is an example document 10.&quot;</span>
      },
      <span class="hljs-string">&quot;id&quot;</span>: <span class="hljs-string">&quot;10&quot;</span>,
      <span class="hljs-string">&quot;score&quot;</span>: <span class="hljs-number">0.047891143480830164</span>,
      <span class="hljs-string">&quot;timestamp&quot;</span>: <span class="hljs-number">1643177200809448400</span>
    },
    {
      <span class="hljs-string">&quot;fields&quot;</span>: {
        <span class="hljs-string">&quot;id&quot;</span>: <span class="hljs-number">11</span>,
        <span class="hljs-string">&quot;text&quot;</span>: <span class="hljs-string">&quot;This is an example document 11.&quot;</span>
      },
      <span class="hljs-string">&quot;id&quot;</span>: <span class="hljs-string">&quot;11&quot;</span>,
      <span class="hljs-string">&quot;score&quot;</span>: <span class="hljs-number">0.047891143480830164</span>,
      <span class="hljs-string">&quot;timestamp&quot;</span>: <span class="hljs-number">1643177200809457700</span>
    },
    {
      <span class="hljs-string">&quot;fields&quot;</span>: {
        <span class="hljs-string">&quot;id&quot;</span>: <span class="hljs-number">5</span>,
        <span class="hljs-string">&quot;text&quot;</span>: <span class="hljs-string">&quot;This is an example document 5.&quot;</span>
      },
      <span class="hljs-string">&quot;id&quot;</span>: <span class="hljs-string">&quot;5&quot;</span>,
      <span class="hljs-string">&quot;score&quot;</span>: <span class="hljs-number">0.06069608755660118</span>,
      <span class="hljs-string">&quot;timestamp&quot;</span>: <span class="hljs-number">1643177200809490000</span>
    },
    {
      <span class="hljs-string">&quot;fields&quot;</span>: {
        <span class="hljs-string">&quot;id&quot;</span>: <span class="hljs-number">6</span>,
        <span class="hljs-string">&quot;text&quot;</span>: <span class="hljs-string">&quot;This is an example document 6.&quot;</span>
      },
      <span class="hljs-string">&quot;id&quot;</span>: <span class="hljs-string">&quot;6&quot;</span>,
      <span class="hljs-string">&quot;score&quot;</span>: <span class="hljs-number">0.06069608755660118</span>,
      <span class="hljs-string">&quot;timestamp&quot;</span>: <span class="hljs-number">1643177200809517000</span>
    },
    {
      <span class="hljs-string">&quot;fields&quot;</span>: {
        <span class="hljs-string">&quot;id&quot;</span>: <span class="hljs-number">12</span>,
        <span class="hljs-string">&quot;text&quot;</span>: <span class="hljs-string">&quot;This is an example document 12.&quot;</span>
      },
      <span class="hljs-string">&quot;id&quot;</span>: <span class="hljs-string">&quot;12&quot;</span>,
      <span class="hljs-string">&quot;score&quot;</span>: <span class="hljs-number">0.06069608755660118</span>,
      <span class="hljs-string">&quot;timestamp&quot;</span>: <span class="hljs-number">1643177200809526300</span>
    },
    {
      <span class="hljs-string">&quot;fields&quot;</span>: {
        <span class="hljs-string">&quot;id&quot;</span>: <span class="hljs-number">3</span>,
        <span class="hljs-string">&quot;text&quot;</span>: <span class="hljs-string">&quot;This is an example document 3.&quot;</span>
      },
      <span class="hljs-string">&quot;id&quot;</span>: <span class="hljs-string">&quot;3&quot;</span>,
      <span class="hljs-string">&quot;score&quot;</span>: <span class="hljs-number">0.06069608755660118</span>,
      <span class="hljs-string">&quot;timestamp&quot;</span>: <span class="hljs-number">1643177200809375200</span>
    }
  ],
  <span class="hljs-string">&quot;hits&quot;</span>: <span class="hljs-number">12</span>,
  <span class="hljs-string">&quot;index_name&quot;</span>: <span class="hljs-string">&quot;example&quot;</span>
}
</code></pre>
<h2 id="delete-index">Delete index</h2>
<p>The following command will delete the index <code>wikipedia_en</code> with the specified name. This command will delete the index file on the object storage and the index metadata on the metastore.</p>
<pre><code>% curl -XDELETE http://localhost:8000/v1/indexes/example
</code></pre>
                                
                                </section>
                            
    </div>
    <div class="search-results">
        <div class="has-results">
            
            <h1 class="search-results-title"><span class='search-results-count'></span> results matching "<span class='search-query'></span>"</h1>
            <ul class="search-results-list"></ul>
            
        </div>
        <div class="no-results">
            
            <h1 class="search-results-title">No results matching "<span class='search-query'></span>"</h1>
            
        </div>
    </div>
</div>

                        </div>
                    </div>
                
            </div>

            
                
                <a href="build.html" class="navigation navigation-prev " aria-label="Previous page: Build">
                    <i class="fa fa-angle-left"></i>
                </a>
                
                
                <a href="metadata_store.html" class="navigation navigation-next " aria-label="Next page: Metadata Store">
                    <i class="fa fa-angle-right"></i>
                </a>
                
            
        
    </div>

    <script>
        var gitbook = gitbook || [];
        gitbook.push(function() {
            gitbook.page.hasChanged({"page":{"title":"Get started","level":"1.4","depth":1,"next":{"title":"Metadata Store","level":"1.5","depth":1,"path":"metadata_store.md","ref":"metadata_store.md","articles":[]},"previous":{"title":"Build","level":"1.3","depth":1,"path":"build.md","ref":"build.md","articles":[]},"dir":"ltr"},"config":{"gitbook":"*","theme":"default","variables":{},"plugins":["hide-published-with"],"pluginsConfig":{"hide-published-with":{},"highlight":{},"search":{},"lunr":{"maxIndexSize":1000000,"ignoreSpecialCharacters":false},"sharing":{"facebook":true,"twitter":true,"google":false,"weibo":false,"instapaper":false,"vk":false,"all":["facebook","google","twitter","weibo","instapaper"]},"fontsettings":{"theme":"white","family":"sans","size":2},"theme-default":{"styles":{"website":"styles/website.css","pdf":"styles/pdf.css","epub":"styles/epub.css","mobi":"styles/mobi.css","ebook":"styles/ebook.css","print":"styles/print.css"},"showLevel":false}},"structure":{"langs":"LANGS.md","readme":"README.md","glossary":"GLOSSARY.md","summary":"SUMMARY.md"},"pdf":{"pageNumbers":true,"fontSize":12,"fontFamily":"Arial","paperSize":"a4","chapterMark":"pagebreak","pageBreaksBefore":"/","margin":{"right":62,"left":62,"top":56,"bottom":56}},"styles":{"website":"styles/website.css","pdf":"styles/pdf.css","epub":"styles/epub.css","mobi":"styles/mobi.css","ebook":"styles/ebook.css","print":"styles/print.css"}},"file":{"path":"get_started.md","mtime":"2022-02-09T11:03:37.086Z","type":"markdown"},"gitbook":{"version":"3.2.3","time":"2022-02-16T12:57:45.143Z"},"basePath":".","book":{"language":""}});
        });
    </script>
</div>

        
    <script src="gitbook/gitbook.js"></script>
    <script src="gitbook/theme.js"></script>
    
        
        <script src="gitbook/gitbook-plugin-hide-published-with/plugin.js"></script>
        
    
        
        <script src="gitbook/gitbook-plugin-search/search-engine.js"></script>
        
    
        
        <script src="gitbook/gitbook-plugin-search/search.js"></script>
        
    
        
        <script src="gitbook/gitbook-plugin-lunr/lunr.min.js"></script>
        
    
        
        <script src="gitbook/gitbook-plugin-lunr/search-lunr.js"></script>
        
    
        
        <script src="gitbook/gitbook-plugin-sharing/buttons.js"></script>
        
    
        
        <script src="gitbook/gitbook-plugin-fontsettings/fontsettings.js"></script>
        
    

    </body>
</html>

